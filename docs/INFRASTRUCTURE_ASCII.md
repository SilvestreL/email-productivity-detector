# 🏗️ Diagrama ASCII - Infraestrutura Email Productivity Classifier

## 📊 **Arquitetura Simplificada (ASCII)**

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                           🌍 INTERNET                                      │
└─────────────────────┬───────────────────────────────────────────────────────┘
                      │
                      ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                        🌐 LOAD BALANCER                                    │
│                           (Nginx/HAProxy)                                  │
└─────────────────────┬─────────────────────┬─────────────────────────────────┘
                      │                     │
                      ▼                     ▼
┌─────────────────────────────┐  ┌─────────────────────────────────────────────┐
│        📄 FRONTEND          │  │              🔗 API GATEWAY                │
│                             │  │              (Kong/Traefik)                │
│  ┌─────────────────────┐    │  └─────────────────────┬───────────────────────┘
│  │   Interface HTML    │    │                        │
│  │   (index.html)      │    │                        ▼
│  └─────────────────────┘    │  ┌─────────────────────────────────────────────┐
│                             │  │              🔗 BACKEND                    │
│  ┌─────────────────────┐    │  │                                             │
│  │   Streamlit App     │    │  │  ┌─────────────────────────────────────┐   │
│  │   (Porta 8501)      │    │  │  │         FastAPI Server              │   │
│  └─────────────────────┘    │  │  │         (Porta 8000)                │   │
└─────────────────────────────┘  │  └─────────────────────┬─────────────────┘   │
                                 │                        │                     │
                                 │                        ▼                     │
                                 │  ┌─────────────────────────────────────────┐ │
                                 │  │           🤖 PROCESSAMENTO             │ │
                                 │  │                                         │ │
                                 │  │  ┌─────────────────────────────────┐   │ │
                                 │  │  │      Modelo ML (98.39%)         │   │ │
                                 │  │  │      (TF-IDF + Logistic)        │   │ │
                                 │  │  └─────────────────────────────────┘   │ │
                                 │  │                                         │ │
                                 │  │  ┌─────────────────────────────────┐   │ │
                                 │  │  │    Processador de Arquivos      │   │ │
                                 │  │  │      (.txt, .pdf)               │   │ │
                                 │  │  └─────────────────────────────────┘   │ │
                                 │  │                                         │ │
                                 │  │  ┌─────────────────────────────────┐   │ │
                                 │  │  │    Gerador de Respostas         │   │ │
                                 │  │  │    (7 categorias)               │   │ │
                                 │  │  └─────────────────────────────────┘   │ │
                                 │  └─────────────────────────────────────────┘ │
                                 └─────────────────────────────────────────────┘
                                                      │
                                                      ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                           💾 STORAGE                                       │
│                                                                             │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────────────────┐ │
│  │   Modelos ML    │  │   Dados App     │  │         Logs                │ │
│  │   (Joblib)      │  │   (CSV/JSON)    │  │      (Aplicação)            │ │
│  └─────────────────┘  └─────────────────┘  └─────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────┘
                                                      │
                                                      ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                        🐳 CONTAINERIZATION                                 │
│                                                                             │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────────────────┐ │
│  │   Docker        │  │   Docker        │  │   Kubernetes                │ │
│  │   Compose       │  │   Containers    │  │   (Opcional)                │ │
│  └─────────────────┘  └─────────────────┘  └─────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────┘
                                                      │
                                                      ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                           ☁️ CLOUD                                         │
│                                                                             │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────────────────┐ │
│  │      AWS        │  │   Google Cloud  │  │         Azure               │ │
│  │   (ECS/EKS)     │  │   (Cloud Run)   │  │   (Container Instances)     │ │
│  └─────────────────┘  └─────────────────┘  └─────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────┘
                                                      │
                                                      ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                       📊 MONITORING                                        │
│                                                                             │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────────────────┐ │
│  │   Prometheus    │  │   Grafana       │  │   ELK Stack                 │ │
│  │   (Métricas)    │  │   (Dashboard)   │  │   (Logs)                    │ │
│  └─────────────────┘  └─────────────────┘  └─────────────────────────────┘ │
│                                                                             │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────────────────┐ │
│  │   Jaeger        │  │   AlertManager  │  │   PagerDuty/Slack           │ │
│  │   (Traces)      │  │   (Alertas)     │  │   (Notificações)            │ │
│  └─────────────────┘  └─────────────────┘  └─────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────┘
```

## 🔄 **Fluxo de Dados (ASCII)**

```
👤 USUÁRIO
   │
   ▼
🌐 LOAD BALANCER
   │
   ├─── 📄 Interface HTML
   │         │
   │         ▼
   │    🤖 Streamlit App
   │         │
   │         ▼
   │    🔗 FastAPI
   │
   └─── 🔗 API Gateway
             │
             ▼
         🔗 FastAPI
             │
             ▼
    ┌─────────────────┐
    │   🤖 PROCESSAMENTO
    │
    │  ┌─────────────┐
    │  │ Modelo ML   │
    │  └─────────────┘
    │
    │  ┌─────────────┐
    │  │ Processador │
    │  │ de Arquivos │
    │  └─────────────┘
    │
    │  ┌─────────────┐
    │  │ Gerador de  │
    │  │ Respostas   │
    │  └─────────────┘
    └─────────────────┘
             │
             ▼
        💾 STORAGE
```

## 🐳 **Arquitetura Docker (ASCII)**

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                        🐳 DOCKER CONTAINERS                                │
│                                                                             │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────────────────┐ │
│  │   🌐 Nginx      │  │   🤖 Streamlit  │  │   🔗 FastAPI               │ │
│  │   Porta 80      │  │   Porta 8501    │  │   Porta 8000               │ │
│  └─────────────────┘  └─────────────────┘  └─────────────────────────────┘ │
│           │                     │                     │                     │
│           └─────────────────────┼─────────────────────┘                     │
│                                 │                                           │
│                                 ▼                                           │
│  ┌─────────────────────────────────────────────────────────────────────────┐ │
│  │                    🤖 ML MODEL (Joblib)                                │ │
│  └─────────────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────┘
                                 │
                                 ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                           💾 VOLUMES                                       │
│                                                                             │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────────────────┐ │
│  │   Model Data    │  │      Logs       │  │         Config              │ │
│  │   (Persistente) │  │   (Aplicação)   │  │      (Nginx)                │ │
│  └─────────────────┘  └─────────────────┘  └─────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────┘
```

## ☁️ **Arquitetura Cloud (ASCII)**

```
👥 USUÁRIOS GLOBAIS
        │
        ▼
🌍 CDN (CloudFront/Cloud CDN)
        │
    ┌───┼───┐
    │   │   │
    ▼   ▼   ▼
┌─────────┐ ┌─────────┐ ┌─────────┐
│   AWS   │ │  GCP    │ │  Azure  │
│         │ │         │ │         │
│ ┌─────┐ │ │ ┌─────┐ │ │ ┌─────┐ │
│ │ ALB │ │ │ │ GCLB│ │ │ │ ALB │ │
│ └─────┘ │ │ └─────┘ │ │ └─────┘ │
│    │    │ │    │    │ │    │    │
│    ▼    │ │    ▼    │ │    ▼    │
│ ┌─────┐ │ │ ┌─────┐ │ │ ┌─────┐ │
│ │ ECS │ │ │ │Cloud│ │ │ │ ACI │ │
│ └─────┘ │ │ │ Run │ │ │ └─────┘ │
│    │    │ │ └─────┘ │ │    │    │
│    ▼    │ │    │    │ │    ▼    │
│ ┌─────┐ │ │ ┌─────┐ │ │ ┌─────┐ │
│ │ RDS │ │ │ │Fire │ │ │ │Cosmo│ │
│ └─────┘ │ │ │store│ │ │ │s DB │ │
└─────────┘ │ └─────┘ │ └─────┘ │
            └─────────┘         │
                     │          │
                     ▼          ▼
                ┌─────────┐ ┌─────────┐
                │  GCS    │ │  Blob   │
                │ Storage │ │ Storage │
                └─────────┘ └─────────┘
```

## 📊 **Monitoramento (ASCII)**

```
🤖 EMAIL CLASSIFIER APP
        │
    ┌───┼───┐
    │   │   │
    ▼   ▼   ▼
┌─────────┐ ┌─────────┐ ┌─────────┐
│Prometheus│ │ Fluentd │ │ Jaeger  │
│(Métricas)│ │ (Logs)  │ │(Traces) │
└─────────┘ └─────────┘ └─────────┘
    │           │           │
    ▼           ▼           ▼
┌─────────┐ ┌─────────┐ ┌─────────┐
│ Grafana │ │Elastic- │ │ Zipkin  │
│(Dashboard│ │ search  │ │(Traces) │
└─────────┘ └─────────┘ └─────────┘
    │           │
    ▼           ▼
┌─────────┐ ┌─────────┐
│AlertMgr │ │ Kibana  │
│(Alertas)│ │(Logs UI)│
└─────────┘ └─────────┘
    │
    ▼
┌─────────┐ ┌─────────┐ ┌─────────┐
│PagerDuty│ │  Slack  │ │  Email  │
│(Incident│ │(Channel)│ │(Notif.) │
└─────────┘ └─────────┘ └─────────┘
```

## 🔒 **Segurança (ASCII)**

```
🚨 AMEAÇAS EXTERNAS
        │
        ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                        🛡️ CAMADAS DE SEGURANÇA                             │
│                                                                             │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────┐ │
│  │     WAF     │  │    DDoS     │  │   SSL/TLS   │  │   Authentication    │ │
│  │(Web App FW) │  │ Protection  │  │ Encryption  │  │   & Authorization   │ │
│  └─────────────┘  └─────────────┘  └─────────────┘  └─────────────────────┘ │
│        │                 │                 │                 │              │
│        └─────────────────┼─────────────────┼─────────────────┘              │
│                          │                 │                                │
│                          ▼                 ▼                                │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────────────────────┐ │
│  │   Network   │  │  Container  │  │         Data Encryption             │ │
│  │  Security   │  │  Security   │  │         (At Rest & Transit)         │ │
│  └─────────────┘  └─────────────┘  └─────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────┘
                          │
                          ▼
┌─────────────────────────────────────────────────────────────────────────────┐
│                        🔐 COMPONENTES SEGUROS                              │
│                                                                             │
│  ┌─────────────────┐  ┌─────────────────┐  ┌─────────────────────────────┐ │
│  │  API Gateway    │  │  Secure App     │  │      Secure Database        │ │
│  │   with Auth     │  │  (Validated)    │  │      (Encrypted)            │ │
│  └─────────────────┘  └─────────────────┘  └─────────────────────────────┘ │
│           │                      │                      │                   │
│           └──────────────────────┼──────────────────────┘                   │
│                                  │                                          │
│                                  ▼                                          │
│  ┌─────────────────────────────────────────────────────────────────────────┐ │
│  │                    Encrypted Backup                                     │ │
│  │                    (Automated)                                          │ │
│  └─────────────────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────────────────┘
```

## 📈 **Escalabilidade (ASCII)**

```
🌐 LOAD BALANCER
        │
    ┌───┼───┐
    │   │   │
    ▼   ▼   ▼
┌─────────┐ ┌─────────┐ ┌─────────┐
│ ASG 1   │ │ ASG 2   │ │ ASG 3   │
│Min:2    │ │Min:2    │ │Min:2    │
│Max:10   │ │Max:10   │ │Max:10   │
└─────────┘ └─────────┘ └─────────┘
    │           │           │
    ▼           ▼           ▼
┌─────────┐ ┌─────────┐ ┌─────────┐
│Instance │ │Instance │ │Instance │
│   1     │ │   3     │ │   5     │
│CPU:2    │ │CPU:2    │ │CPU:2    │
│RAM:4GB  │ │RAM:4GB  │ │RAM:4GB  │
└─────────┘ └─────────┘ └─────────┘
    │           │           │
    ▼           ▼           ▼
┌─────────┐ ┌─────────┐ ┌─────────┐
│Instance │ │Instance │ │Instance │
│   2     │ │   4     │ │   6     │
│CPU:2    │ │CPU:2    │ │CPU:2    │
│RAM:4GB  │ │RAM:4GB  │ │RAM:4GB  │
└─────────┘ └─────────┘ └─────────┘
    │           │           │
    └───────────┼───────────┘
                │
                ▼
        ┌─────────────┐
        │   Redis     │
        │   Cluster   │
        │   (Cache)   │
        └─────────────┘
                │
                ▼
        ┌─────────────┐
        │   Primary   │
        │  Database   │
        └─────────────┘
                │
                ▼
        ┌─────────────┐
        │   Read      │
        │ Replicas    │
        └─────────────┘
```

---

## 🎯 **Resumo da Arquitetura ASCII**

### **Componentes Principais**

1. **🌐 Frontend**: Interface HTML + Streamlit App
2. **🔗 Backend**: FastAPI + Modelo ML + Processadores
3. **🐳 Containerização**: Docker + Docker Compose
4. **☁️ Cloud**: Multi-cloud (AWS/GCP/Azure)
5. **📊 Monitoramento**: Métricas + Logs + Traces + Alertas
6. **🔒 Segurança**: Múltiplas camadas de proteção
7. **📈 Escalabilidade**: Auto-scaling + Load balancing

### **Especificações**

- **Performance**: 98.39% acurácia, < 10ms latência
- **Escalabilidade**: 2-10 instâncias por ASG
- **Disponibilidade**: 99.9% uptime
- **Segurança**: WAF + SSL + Auth + Encryption
- **Monitoramento**: Observabilidade completa

---

**🏗️ Arquitetura ASCII completa e visual!**
